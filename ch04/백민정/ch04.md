# 아키텍처
## MySQL 엔진 아키텍처
### 1.1 MySQL 전체 구조
MySQL은 대부분의 프로그래밍 언어로부터 접근 방법을 모두 지원한다.
표준 드라이버를 이용해 모든 언어로 MySQL 서버에서 쿼리를 사용할 수 있게 지원한다는 의미이다.


1️⃣ MySQL 엔진 (MySQL Engine)
: MySQL의 전체적인 핵심 엔진

- 사용자의 SQL 쿼리(SELECT, INSERT 등)를 해석하고 실행 계획을 수립하는 역할
- 실행할 때, 어떤 스토리지 엔진을 사용할지 결정하고, 스토리지 엔진에게 데이터를 요청
핸들러 API(Handler API)를 통해 스토리지 엔진과 연결됨


📌 구성 요소

- SQL 파서(Parser): 사용자가 입력한 SQL 문장을 분석해서 처리
- 커넥션 핸들러 (Connection Handler) : 사용자가 MySQL 서버에 연결할 때, 해당 연결을 관리하고 새로운 스레드를 생성하거나 기존 스레드를 재사용하여 SQL 쿼리 처리 프로세스를 시작.
- 전처리기 (Preprocessor) : SQL 쿼리의 추가적인 변환을 처리
- 옵티마이저(Optimizer): 최적의 실행 계획을 세우는 역할


2️⃣ 핸들러 API (Handler API)
: MySQL 엔진과 스토리지 엔진을 연결하는 인터페이스(API)

- MySQL 엔진이 직접 데이터를 저장하거나 불러오는 게 아니라, 핸들러 API를 통해 스토리지 엔진에게 요청
마치 운전대가 자동차 엔진을 조작하는 것처럼, 핸들러 API는 MySQL 엔진이 스토리지 엔진을 다룰 수 있도록 도와줌


📌 핸들러 API의 기능
- 데이터를 삽입, 조회, 삭제, 업데이트할 수 있도록 도와줌
- 여러 스토리지 엔진을 지원할 수 있도록 추상화된 구조 제공


3️⃣ 스토리지 엔진 (Storage Engine)
: 데이터를 저장하고 관리하는 역할을 하는 컴포넌트

- MySQL 엔진이 핸들러 API를 통해 요청하면, 스토리지 엔진이 데이터를 저장하거나 불러옴
- MySQL은 여러 개의 스토리지 엔진을 지원
- SHOW GLOBAL STATUS LIKE 'Handler%'
 -> 핸들러 API를 통해 얼마나 많은 데이터(레코드) 작업이 있었는지 확인


📌 대표적인 스토리지 엔진
- InnoDB: 트랜잭션 지원, ACID 보장, 외래 키(FK) 지원 (MySQL 기본 엔진)
- MyISAM: 빠른 읽기 속도, 트랜잭션 미지원 (과거에 많이 사용됨)
- Memory: 데이터를 RAM에 저장, 속도가 빠름, 서버 재부팅 시 데이터 사라짐
- CSV: 데이터를 CSV 파일로 저장


### 1.2 MySQL 스레딩 구조
MySQL 서버는 스레드 기반 으로 작동한다.
하나의 프로세스 안에서 여러 개의 스레드가 실행되는 구조이며,
즉, 클라이언트가 MySQL 서버에 접속하면 새로운 스레드가 생성되어 각각의 요청을 처리한다는 의미이다.

### 1.3 메모리 할당 및 사용 구조

